<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Critical Dub</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scrolling */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
        }
        img {
            max-width: 100%;
            max-height: 100%;
            transition: transform 0.1s ease-out; /* Smooth movement */
        }
    </style>
</head>
<body>
    <!-- The flyer image -->
    <img id="flyer-image" src="" alt="Critical Dub Flyer">

    <script>
        // Function to determine the correct image path
        function getImagePath() {
            if (window.location.hostname.includes('github.io')) {
                return '/acidhaus/img/flyer1.jpg';
            } else {
                return '/img/flyer1.png';
            }
        }

        // Set the flyer image source dynamically
        const flyer = document.getElementById("flyer-image");
        flyer.src = getImagePath();

        // Adjust sensitivity
        const sensitivity = 2.5; // Higher values = more responsive
        const maxRotation = 30; // Maximum rotation in degrees

        // Listen to device orientation events
        window.addEventListener("deviceorientation", (event) => {
            const beta = event.beta; // Front-to-back tilt (range: -180 to 180)
            const gamma = event.gamma; // Side-to-side tilt (range: -90 to 90)

            // Multiply gyroscope values by sensitivity
            const adjustedBeta = beta * sensitivity;
            const adjustedGamma = gamma * sensitivity;

            // Clamp the values to the max rotation range
            const clampedBeta = Math.min(Math.max(adjustedBeta, -maxRotation), maxRotation);
            const clampedGamma = Math.min(Math.max(adjustedGamma, -maxRotation), maxRotation);

            // Apply rotation to the flyer
            flyer.style.transform = `rotateX(${clampedBeta}deg) rotateY(${clampedGamma}deg)`;
        });

        // Debug: Check if the device supports gyroscope
        if (!window.DeviceOrientationEvent) {
            console.warn("Device orientation not supported on this device.");
        }
    </script>
</body>
</html>
